<script type="text/html" id="survey-question-matrixdynamic">
    <div data-bind="visible: question.koIsAddRowOnTop(), css: question.koCss().footer">
        <input type="button" data-bind="click:question.koAddRowClick, css: question.koCss().button + ' ' + question.koCss().buttonAdd, value: question.addRowText" />
    </div>
    <div data-bind="style: {overflowX: question.horizontalScroll? 'scroll': ''}">
        <table data-bind="visible: question.koIsHorizontalColumnLayout, css: question.koCss().root">
            <thead data-bind="visible: question.showHeader">
                <tr>
                    <!-- ko if: question.hasRowText --><td></td><!-- /ko -->
                    <!-- ko foreach: question.koVisibleColumns -->
                    <th data-bind="style: { minWidth: question.getColumnWidth($data) }">
                        <!-- ko template: { name: 'survey-string', data: locTitle } -->
                        <!-- /ko -->
                    </th>
                    <!-- /ko -->
                    <!-- ko if: question.koCanRemoveRow -->
                    <td></td>
                    <!-- /ko -->
                </tr>
            </thead>
            <tbody>
                <!-- ko foreach: { data: question.koRows, as: 'row' } -->
                <tr>
                    <!-- ko if: question.hasRowText --><td><!-- ko template: { name: 'survey-string', data: row.locText } --><!-- /ko --></td><!-- /ko -->
                    <!-- ko foreach: row.cells-->
                    <!-- ko template: { name: 'survey-matrixcell', data: $data, as: "cell", afterRender: $data.data.koCellAfterRender } -->
                    <!-- /ko -->
                    <!-- /ko -->
                    <!-- ko if: question.koCanRemoveRow -->
                    <td>
                        <input type="button" data-bind="click:question.koRemoveRowClick, css: question.koCss().button + ' ' + question.koCss().buttonRemove, value: question.removeRowText"
                        />
                    </td>
                    <!-- /ko -->
                </tr>
                <!-- /ko -->
            </tbody>
        </table>
        <!-- ko if: !question.koIsHorizontalColumnLayout() -->
        <table data-bind="css: question.koCss().root">
            <!-- ko if: question.hasRowText -->
                <thead>
                    <tr>
                        <th data-bind="visible: question.showHeader"></th>
                        <!-- ko foreach: { data: question.koRows, as: 'row' } -->
                            <th><!-- ko template: { name: 'survey-string', data: row.locText } --><!-- /ko --></th>
                        <!-- /ko -->            
                    </tr>
                </thead>
            <!-- /ko -->
            <tbody>
                <!-- ko foreach: { data: question.koVisibleColumns, as: 'column' } -->
                    <tr>
                        <th data-bind="visible: question.showHeader, style: { minWidth: question.getColumnWidth($data) }">
                            <!-- ko template: { name: 'survey-string', data: locTitle } -->
                            <!-- /ko -->
                        </th>
                        <!-- ko foreach: { data: question.koRows, as: 'row' } -->
                            <!-- ko template: { name: 'survey-matrixcell', data: row.cells[column.index], as: "cell", afterRender: row.data.koCellAfterRender } -->
                            <!-- /ko -->
                        <!-- /ko -->
                    </tr>
                <!-- /ko -->
                <!-- ko if: question.koCanRemoveRow -->
                <tr>
                    <td data-bind="visible: question.showHeader">
                    </td>
                     <!-- ko foreach: { data: question.koRows, as: 'row' } -->
                        <td>
                            <input type="button" data-bind="click:question.koRemoveRowClick, css: question.koCss().button + ' ' + question.koCss().buttonRemove, value: question.removeRowText"/>
                        </td>
                    <!-- /ko -->
                </tr>
                <!-- /ko -->
            </tbody>
        </table>
        <!-- /ko -->
    </div>
    <div data-bind="visible: question.koIsAddRowOnBottom(), css: question.koCss().footer">
        <input type="button" data-bind="click:question.koAddRowClick, css: question.koCss().button + ' ' + question.koCss().buttonAdd, value: question.addRowText" />
    </div>
</script>